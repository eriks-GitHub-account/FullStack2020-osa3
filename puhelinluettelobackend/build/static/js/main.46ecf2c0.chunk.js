(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},19:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),u=(n(19),n(2)),l=n(3),i=n.n(l),m="/api/people",s=function(){return i.a.get(m)},d=function(e){return i.a.post(m,e)},f=function(e){return i.a.delete("".concat(m,"/").concat(e))},h=function(e,t){var n=e.handleFilter,a=t.filter;return r.a.createElement("div",null,"filter shown with: ",r.a.createElement("input",{value:a,onChange:n}))},b=function(e){return r.a.createElement("form",{onSubmit:e.addPerson},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:e.newName,onChange:e.handleName})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNumber})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},p=function(e){var t=e.person,n=e.deleteP;return r.a.createElement("li",null,t.name," ",t.number,r.a.createElement("button",{onClick:n},"Delete"))},v=function(e){var t=e.message,n=e.type;return null===t?null:"error"===n?r.a.createElement("div",{className:"error"},t):r.a.createElement("div",{className:"success"},t)},E=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),l=Object(u.a)(c,2),i=l[0],m=l[1],E=Object(a.useState)(""),w=Object(u.a)(E,2),g=w[0],j=w[1],O=Object(a.useState)(""),N=Object(u.a)(O,2),k=N[0],y=N[1],S=Object(a.useState)(""),C=Object(u.a)(S,2),P=C[0],D=C[1],T=Object(a.useState)(""),B=Object(u.a)(T,2),F=B[0],J=B[1];Object(a.useEffect)((function(){s().then((function(e){o(e.data)}))}),[]);var U=""===k?n:n.filter((function(e){return e.name.toUpperCase().includes(k.toUpperCase())}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(v,{message:P,type:"error"}),r.a.createElement(v,{message:F,type:"success"}),r.a.createElement(h,{handleFilter:function(e){y(e.target.value)},filter:k}),r.a.createElement("h2",null,"Add a new"),r.a.createElement(b,{addPerson:function(e){e.preventDefault();var t={name:i,number:g};n.some((function(e){return e.name===i}))?window.alert("".concat(i," is already added to phonebook")):d(t).then((function(e){o(n.concat(e.data)),m(""),j(""),J("".concat(t.name," added to phonebook")),setTimeout((function(){J(null)}),5e3)}))},newName:i,handleName:function(e){m(e.target.value)},newNumber:g,handleNumber:function(e){j(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),U.map((function(e){return r.a.createElement(p,{key:e.id,person:e,deleteP:function(){return function(e,t){if(!0===window.confirm("Delete ".concat(t,"?"))){var a=n.find((function(t){return t.id===e}));f(e,a).then(o(n.filter((function(t){return t.id!==e}))),J("".concat(t," removed from phonebook")),setTimeout((function(){J(null)}),5e3)).catch((function(a){D("".concat(t," was already removed from server")),setTimeout((function(){D(null)}),5e3),o(n.filter((function(t){return t.id!==e})))}))}}(e.id,e.name)}})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.46ecf2c0.chunk.js.map